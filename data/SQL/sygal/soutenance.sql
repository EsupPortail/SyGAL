create table SOUTENANCE_PROPOSITION
(
	ID NUMBER not null
		primary key,
	THESE_ID NUMBER not null
		constraint PROPOSITION_THESE_FK
			references THESE,
	DATEPREV DATE,
	LIEU VARCHAR2(256),
	RENDU_RAPPORT DATE
)
/


create table SOUTENANCE_QUALITE
(
	ID NUMBER not null
		primary key,
	LIBELLE VARCHAR2(128) not null,
	RANG VARCHAR2(1) not null
)
/


create table SOUTENANCE_MEMBRE
(
	ID NUMBER not null
		primary key,
	PROPOSITION_ID NUMBER not null
		constraint MEMBRE_PROPOSITION_FK
			references SOUTENANCE_PROPOSITION,
	DENOMINATION VARCHAR2(256) not null,
	GENRE VARCHAR2(1) not null,
	QUALITE NUMBER default NULL not null
		constraint MEMBRE_QUALITE_FK
			references SOUTENANCE_QUALITE,
	ETABLISSEMENT VARCHAR2(128) not null,
	ROLE VARCHAR2(64) not null,
	EXTERIEUR VARCHAR2(3),
	EMAIL VARCHAR2(256) default NULL not null,
	PERSOPASS VARCHAR2(32),
	NOUVEAU NUMBER default 0,
	EXPERTISE DATE
)
/

INSERT INTO SOUTENANCE_QUALITE (ID, LIBELLE, RANG) VALUES (8, 'Grand testeur entropique', 'A');
INSERT INTO SOUTENANCE_QUALITE (ID, LIBELLE, RANG) VALUES (1, 'Professeur des universités', 'A');
INSERT INTO SOUTENANCE_QUALITE (ID, LIBELLE, RANG) VALUES (2, 'Directeur de recherche', 'A');
INSERT INTO SOUTENANCE_QUALITE (ID, LIBELLE, RANG) VALUES (3, 'Autre libelle de rang A', 'A');
INSERT INTO SOUTENANCE_QUALITE (ID, LIBELLE, RANG) VALUES (4, 'Maître de conférences', 'B');
INSERT INTO SOUTENANCE_QUALITE (ID, LIBELLE, RANG) VALUES (5, 'Chargé de recherche', 'B');
INSERT INTO SOUTENANCE_QUALITE (ID, LIBELLE, RANG) VALUES (6, 'Autre libelle de rang B', 'B');

INSERT INTO TYPE_VALIDATION (ID, CODE, LIBELLE) VALUES (6, 'PROPOSITION_SOUTENANCE', 'Validation de la proposition de soutenance');